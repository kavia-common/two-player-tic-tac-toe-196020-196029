<div class="page">
  <main class="card" aria-label="Tic Tac Toe game">
    <header class="header">
      <h1 class="title">Tic Tac Toe</h1>

      <p class="status" aria-live="polite">
        <ng-container *ngIf="!gameOver; else gameOverTpl">
          Current turn:
          <span class="badge" [class.badge-x]="currentPlayer === 'X'" [class.badge-o]="currentPlayer === 'O'">
            {{ currentPlayer }}
          </span>
        </ng-container>

        <ng-template #gameOverTpl>
          <ng-container *ngIf="winner; else drawTpl">
            Winner:
            <span class="badge winner" [class.badge-x]="winner === 'X'" [class.badge-o]="winner === 'O'">
              {{ winner }}
            </span>
          </ng-container>
          <ng-template #drawTpl>
            <span class="draw">Itâ€™s a draw.</span>
          </ng-template>
        </ng-template>
      </p>
    </header>

    <section class="board" role="grid" aria-label="3 by 3 Tic Tac Toe board">
      <button
        *ngFor="let cell of board; index as i"
        class="cell"
        type="button"
        role="gridcell"
        [attr.aria-label]="getCellAriaLabel(i)"
        [disabled]="cell !== null || gameOver"
        (click)="makeMove(i)"
      >
        <span class="mark" [class.mark-x]="cell === 'X'" [class.mark-o]="cell === 'O'">
          {{ cell ?? '' }}
        </span>
      </button>
    </section>

    <footer class="footer">
      <button class="reset" type="button" (click)="resetGame()">Reset</button>
      <p class="hint">
        Tip: Take turns tapping a square. A player wins by placing three of their marks in a row.
      </p>
    </footer>
  </main>
</div>
